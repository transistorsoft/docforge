id: Config
source_file: background-geolocation-types/src/core/config/Config.ts
signature: export interface Config {
categories:
- Primary API
- Config
description: |-
  Configuration API.

  The `Config` class defines all SDK options, grouped into compound
  configuration objects:

  - {@link GeoConfig} — Geolocation and filtering options
  - {@link AppConfig} — Application lifecycle options
  - {@link HttpConfig} — Networking and HTTP sync options
  - {@link PersistenceConfig} — Data persistence and database options
  - {@link LoggerConfig} — Logging and debugging options
  - {@link ActivityConfig} — Motion and activity-recognition options

  Instances of `Config` are consumed by {@link BackgroundGeolocation.ready}
  and {@link BackgroundGeolocation.setConfig}.

  @example example-1
examples:
  example-1:
    title: Example 1
    code:
      ts: |-
        import BackgroundGeolocation, {
          Config,
          GeoConfig,
          ActivityConfig,
          HttpConfig,
          PersistenceConfig,
          DesiredAccuracy,
          PersistMode,
          LogLevel,
          AppConfig,
          LoggerConfig,
          State
        } from '{{pluginName}}';

        async function main() {
          // Configure the SDK with compound configuration objects.
          const config: Config = {
            geolocation: {
              desiredAccuracy: DesiredAccuracy.High,
              distanceFilter: 20,
              stopTimeout: 5,
              stationaryRadius: 150,
            },
            activity: {
              disableStopDetection: false,
              motionTriggerDelay: 30000,
            },
            http: {
              url: 'https://my.server.com/api/locations',
              method: 'POST',
              autoSync: true,
              headers: {
                Authorization: 'Bearer secret-token',
              },
              params: {
                user_id: 123,
              },
            },
            persistence: {
              persistMode: PersistMode.All,
              maxDaysToPersist: 14,
              extras: { appVersion: '1.0.0' },
            },
            app: {
              stopOnTerminate: false,
              startOnBoot: true,
              enableHeadless: true
            },
            logger: {
              debug: true,
              logLevel: LogLevel.Verbose,
              logMaxDays: 3,
            },
          };

          // Apply the configuration.
          const state: State = await BackgroundGeolocation.ready(config);
          console.log('[ready] BackgroundGeolocation is configured and ready to use');

          if (!state.enabled) {
            await BackgroundGeolocation.start();
          }

          // To modify configuration after initialization, use setConfig.
          const updated: State = await BackgroundGeolocation.setConfig({
            http: {
              headers: {
                Authorization: 'Bearer new-token',
              },
            },
            logger: {
              logLevel: LogLevel.Info
            },
          });

          await BackgroundGeolocation.sync();
        }
