id: BackgroundGeolocation.onMotionChange
source_file: background-geolocation-types/src/core/api/BackgroundGeolocation.ts
signature: 'onMotionChange(cb: (event: MotionChangeEvent) => void): Subscription;'
description: |-
  Subscribe to __`motionchange`__ events.

  Your `callback` will be executed each time the device has changed-state between **MOVING** or **STATIONARY**.


  @example example-1

  ----------------------------------------------------------------------
  __âš ï¸ Warning:  `autoSyncThreshold`__

  If you've configured {@link HttpConfig.autoSyncThreshold}, it **will be ignored** during a `onMotionChange` event &mdash; all queued locations will be uploaded, since:
  - If an `onMotionChange` event fires **into the *moving* state**, the device may have been sitting dormant for a long period of time.  The plugin is *eager* to upload this state-change to the server as soon as possible.
  - If an `onMotionChange` event fires **into the *stationary* state**, the device may be about to lie dormant for a long period of time.  The plugin is *eager* to upload all queued locations to the server before going dormant.
  ----------------------------------------------------------------------

  __â„¹ï¸ See also:__
  - {@link GeoConfig.stopTimeout}
  - ðŸ“˜ [Philosophy of Operation](github:wiki/Philosophy-of-Operation)

  @event motionchange
examples:
  example-1:
    title: Example 1
    code:
      ts: |-
        const subscription = BackgroundGeolocation.onMotionChange((event:MotionChangeEvent) => {
          if (event.isMoving) {
             console.log("[onMotionChange] Device has just started MOVING ", event.location);
          } else {
             console.log("[onMotionChange] Device has just STOPPED:  ", event.location);
          }
        });
