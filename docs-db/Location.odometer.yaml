id: Location.odometer
source_file: background-geolocation-types/src/core/data/Location.ts
signature: 'odometer: number;'
description: |-
  Total distance traveled, in meters, since the odometer was last set or reset.

  The SDK continuously integrates distance between recorded locations to maintain
  a running total. This value increases regardless of tracking mode and persists
  across app restarts (unless explicitly reset).

  __ℹ️ How it's calculated:__
  - Distance is computed between each pair of accepted locations.
  - The {@link LocationFilter} evaluates the accuracy and motion context of each sample.
  - Low-quality samples may be rejected or down-weighted depending on
    {@link LocationFilter.odometerAccuracyThreshold}, reducing odometer pollution.
  - The accumulated drift is exposed via {@link Location.odometer_error}.

  __When the odometer increases:__
  - After the device moves and a new location is recorded.
  - During both moving and stationary states (if minor motion is detected).
  - In geofences-only mode, the odometer increases whenever a location is recorded
    for a geofence transition or stationary exit.

  __When it does *not* increase:__
  - When a sample fails accuracy thresholds.
  - When {@link is_moving} is false *and* no sufficient movement occurs.

  __Resetting or setting the odometer:__
  - Use {@link BackgroundGeolocation.resetOdometer} to zero it out.
  - Use {@link BackgroundGeolocation.setOdometer} to force a new value manually.
    This also resets {@link Location.odometer_error} to `0`.

  __Persistence:__
  - The odometer value is stored in `State` and is restored after app restart.
  - Only a user-initiated reset or explicit call to `setOdometer` clears it.

  __Best practices:__
  - Display the odometer directly to users (e.g., trip distance, workout distance).
  - Use {@link Location.odometer_error} to measure confidence in the odometer.
  - For fitness apps, consider resetting it at the beginning of each workout session.

  @example example-1

  ℹ️
  - {@link LocationFilter}
  - {@link LocationFilter.odometerAccuracyThreshold}
  - {@link BackgroundGeolocation.resetOdometer}
  - {@link BackgroundGeolocation.getOdometer}
examples:
  example-1:
    title: Example 1
    code:
      ts: |-
        BackgroundGeolocation.onLocation(location => {
          console.log("Distance traveled:", location.odometer);

          if (location.odometer_error > 25) {
            console.warn("Odometer accuracy degraded");
          }
        });

        // Reset at start of a trip
        await BackgroundGeolocation.resetOdometer();
