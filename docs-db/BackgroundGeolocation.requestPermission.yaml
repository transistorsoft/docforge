id: BackgroundGeolocation.requestPermission
source_file: background-geolocation-types/src/core/api/BackgroundGeolocation.ts
signature: 'requestPermission(): Promise<AuthorizationStatus>;'
description: |-
  Manually request location permission from the user with the configured {@link GeoConfig.locationAuthorizationRequest}.

  The method will resolve successful if *either* __`WhenInUse`__ or __`Always`__ is authorized, regardless of {@link GeoConfig.locationAuthorizationRequest}.  Otherwise an error will be returned (eg: user denies location permission).

  If the user has already provided authorization for location-services, the method will resolve successfully immediately.

  If iOS has *already* presented the location authorization dialog and the user has not currently authorized your desired {@link GeoConfig.locationAuthorizationRequest}, the SDK will present an error dialog offering to direct the user to your app's Settings screen.
  - To disable this behaviour, see {@link GeoConfig.disableLocationAuthorizationAlert}.
  - To customize the text on this dialog, see {@link GeoConfig.locationAuthorizationAlert}.

  __⚠️ Note:__
  - The SDK will **already request permission** from the user when you execute {@link start}, {@link startGeofences}, {@link getCurrentPosition}, etc.  You **do not need to explicitly execute this method** with typical use-cases.

  @example example-1

  __ℹ️ See also:__
  - {@link GeoConfig.locationAuthorizationRequest}
  - {@link GeoConfig.disableLocationAuthorizationAlert}
  - {@link GeoConfig.locationAuthorizationAlert}
  - {@link AppConfig.backgroundPermissionRationale} (**Android+*)
  - {@link requestTemporaryFullAccuracy} (*iOS 14+*)
examples:
  example-1:
    title: Example 1
    code:
      ts: |-
        async componentDidMount() {
          // Listen to onProviderChange to be notified when location authorization changes occur.
          BackgroundGeolocation.onProviderChange((event) => {
            console.log('[providerchange]', event);
          });

          // First ready the plugin with your configuration.
          let state = await BackgroundGeolocation.ready({
            locationAuthorizationRequest: 'Always'
          });

          // Manually request permission with configured locationAuthorizationRequest.
          try {
            int status = await BackgroundGeolocation.requestPermission();
            console.log('[requestPermission] success: ', status);
          } catch(status) {
            console.warn('[requestPermission] FAILURE: ', status);
          }
        }
