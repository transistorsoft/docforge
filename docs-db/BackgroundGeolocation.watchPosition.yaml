id: BackgroundGeolocation.watchPosition
source_file: background-geolocation-types/src/core/api/BackgroundGeolocation.ts
signature: 'watchPosition(options: WatchPositionRequest, locationCallback: (location: Location) => void, errorCallback?: (errorCode: number) => void): Subscription;'
description: |-
  Start a stream of continuous location-updates.  The native code will persist the fetched location to its SQLite database
  just as any other location (If the SDK is currently {@link State.enabled}) in addition to POSTing to your configured {@link HttpConfig.url} (if you've enabled the HTTP features).

  `watchPosition` will return a {@link Subscription} which you must retain in order to later halt the location-stream.

  __⚠️ Warning:__
  `watchPosition` is **not** recommended for **long term** monitoring in the background &mdash; It's primarily designed for use in the foreground **only**.  You might use it for fast-updates of the user's current position on the map, for example.
  The SDK's primary [Philosophy of Operation](github:wiki/Philosophy-of-Operation) **does not require** `watchPosition`.

  __iOS:__
  `watchPosition` will continue to run in the background, preventing iOS from suspending your application.  Take care to listen to `suspend` event and call {@link Subscription.remove} if you don't want your app to keep running in the background, consuming battery.

  @example example-1
examples:
  example-1:
    title: Example 1
    code:
      ts: |-
        onResume() async {
          // Start watching position while app in foreground, retaining the return Subscription.
          this.watchPositionSubscription = await BackgroundGeolocation.watchPosition({
            interval: 1000,
            extras: {foo: "bar"}
          }, (location) => {
            console.log("[watchPosition] -", location);
          }, (errorCode) => {
            console.log("[watchPosition] ERROR -", errorCode);
          })
        }

        onSuspend() {
          // Halt watching position when app goes to background.
          this.watchPositionSubscription.remove();
          this.watchPositionSubscription = null;

        }
