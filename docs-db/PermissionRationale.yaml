id: PermissionRationale
source_file: background-geolocation-types/src/core/config/AppConfig.ts
signature: export interface PermissionRationale {
categories:
- Config
description: |-
  (__Android 11+__) Configure the dialog shown when requesting **Always** background
  location permission.

  Android 11 changed the location authorization flow and no longer presents an
  **“Allow all the time”** option on the initial system dialog.
  Instead, Android allows apps to show a custom rationale dialog explaining why
  background access is required.

  This dialog can take the user directly to the app’s **Location Permissions**
  settings screen, where they can explicitly grant **Allow all the time**.
  The SDK presents this dialog automatically when:

  - {@link GeoConfig.locationAuthorizationRequest} is `"Always"`, and
  - {@link AppConfig.backgroundPermissionRationale} is configured.

  ![](https://dl.dropbox.com/s/343nbrzpaavfser/android11-location-authorization-rn.gif?dl=1)

  **Behavior Notes**

  - Android presents the {@link AppConfig.backgroundPermissionRationale} dialog **once only**.
    After the user presses the `positiveAction`, it will not be shown again
    (pressing *Cancel* does **not** count as acceptance).
  - If the user later resets your app’s Location permission to **Ask every time**,
    the rationale dialog becomes eligible to be shown again.

  ![](https://dl.dropbox.com/s/4fq4erz2lpqz00m/android11-location-permission-rationale-dialog.png?dl=1)
  ![](https://dl.dropbox.com/s/dy65k8b0sgj5cgy/android11-location-authorization-upgrade-settings.png?dl=1)

  __Example__

  ```ts
  import BackgroundGeolocation from "react-native-background-geolocation";

  BackgroundGeolocation.ready({
    geolocation: {
      locationAuthorizationRequest: 'Always'
    },
    app: {
      backgroundPermissionRationale: {
        title: "Allow {applicationName} to access this device's location in the background?",
        message: "To track your activity in the background, please enable {backgroundPermissionOptionLabel} location access.",
        positiveAction: "Change to {backgroundPermissionOptionLabel}",
        negativeAction: "Cancel"
      }
    }
  });
  ```

  __Template Tags__

  The following template variables can be used inside any rationale field by writing
  them as `{tagName}`:

  | Template Tag                            | Default value        | Description |
  |-----------------------------------------|----------------------|-------------|
  | **`{backgroundPermissionOptionLabel}`** | "Allow all the time" | (API 30+) Localized label for the background location permission option. |
  | **`{applicationName}`**                 | App name             | Localized application name from `AndroidManifest`. |

  __See also__
  - {@link GeoConfig.locationAuthorizationRequest}
  - {@link BackgroundGeolocation.requestPermission}
  - [Android 11 Location Updates](https://developer.android.com/about/versions/11/privacy/location)
